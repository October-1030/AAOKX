# 🎯 Alpha Arena 详细使用指南

## 📋 第一步：启动检查

### 1. 确认项目正在运行

打开命令行，在项目目录下运行：
```bash
npm run dev
```

你应该看到：
```
✓ Ready in 2.3s
○ Local:   http://localhost:3000
```

### 2. 打开浏览器

访问：http://localhost:3000

---

## 🔍 第二步：检查浏览器控制台

**这一步很重要！** 如果按钮点击没反应，通常是 JavaScript 有错误。

### 打开浏览器开发者工具

- **Chrome/Edge**: 按 `F12` 或 `Ctrl + Shift + I`
- **Firefox**: 按 `F12`
- **Safari**: `Cmd + Option + I` (Mac)

### 查看 Console（控制台）标签页

1. 点击顶部的 **Console** 标签
2. 刷新页面（按 `F5`）
3. 看看是否有**红色的错误信息**

#### 常见错误及解决方法：

**错误1**: `Failed to fetch` 或 `Network Error`
```
解决方法：
- 确保项目在运行（npm run dev）
- 检查是否访问的是 http://localhost:3000
```

**错误2**: `Module not found` 或 `Cannot find module`
```
解决方法：
npm install
```

**错误3**: 其他错误
```
把错误信息复制给我，我帮你解决
```

---

## 🎮 第三步：正确的使用流程

### 页面加载后应该看到什么？

✅ **正常情况**：
- 顶部显示 "ALPHA ARENA"
- 右上角有绿点显示 "CONNECTED"
- 有三个按钮：
  - 🎨 主题切换（月亮/太阳图标）
  - 🟢 Start Trading（绿色按钮）
  - 🔵 Execute Cycle（蓝色按钮）
- 显示 6 种币的市场数据（BTC、ETH、SOL等）
- 显示 6 个 AI 模型，每个都是 $10,000.00

❌ **不正常情况**：
- 一直显示 "LOADING..."
- 右上角显示 "CONNECTION FAILED"（红点）
- 没有市场数据或 AI 模型显示

### 按钮功能详解

#### 🔵 Execute Cycle（执行一次交易）

**点击后会发生什么**：

1. **正常情况**（需要等待 5-10 秒）：
   - 按钮点击后，**不会立即有反应**
   - 后台 AI 正在分析市场（模拟思考）
   - 大约 5-10 秒后：
     - 排行榜的数字会变化
     - 账户价值可能增加或减少
     - Return % 会显示正数或负数
     - 如果有交易，会在下方显示"持仓"信息

2. **如何确认点击有效**：
   - 打开浏览器控制台（F12）
   - 点击 **Network** 标签
   - 点击 Execute Cycle 按钮
   - 应该看到一个新的请求：`trading` (POST 方法)
   - 点击这个请求，查看 Response（响应）
   - 应该看到类似这样的 JSON：
     ```json
     {
       "success": true,
       "performances": [...],
       "marketData": [...]
     }
     ```

#### 🟢 Start Trading（启动自动交易）

**点击后会发生什么**：

1. 按钮会变成红色的 "Stop Trading"
2. 系统每 3 分钟自动执行一次交易
3. 排行榜会定期更新

**如何确认自动交易在运行**：
- 按钮是红色的 "Stop Trading"
- 等待 3 分钟，排行榜会自动变化
- 在控制台中应该每 3 分钟看到一条日志

---

## 🐛 第四步：常见问题排查

### 问题 1: 点击按钮完全没反应

**检查步骤**：

1. 打开浏览器控制台（F12）
2. 点击 Console 标签
3. 点击按钮
4. 看是否有错误信息

**可能的原因**：
- JavaScript 未加载完成：刷新页面（F5）
- 浏览器缓存问题：强制刷新（Ctrl + F5）

### 问题 2: 点击后长时间无变化

**这是正常的！**

AI 模型在"思考"，需要 5-10 秒。请耐心等待。

**如何确认正在处理**：
1. 打开控制台（F12）→ Network 标签
2. 点击按钮
3. 看到 `trading` 请求的 Status 如果是 "Pending"，说明正在处理
4. 等待它变成 "200 OK"

### 问题 3: 数据不更新

**解决方法**：
1. 确保右上角显示绿点 "CONNECTED"
2. 如果是红点 "CONNECTION FAILED"：
   - 检查 npm run dev 是否还在运行
   - 刷新浏览器页面
   - 重启项目（关闭 npm，重新运行 npm run dev）

### 问题 4: 显示 "LOADING..." 不消失

**原因**：无法连接到 API

**解决方法**：
1. 确认命令行中 npm run dev 正在运行
2. 确认访问的是 http://localhost:3000 （不是 https）
3. 检查浏览器控制台错误信息
4. 尝试重启项目：
   ```bash
   # 按 Ctrl+C 停止
   # 然后重新运行
   npm run dev
   ```

---

## 📊 第五步：观察交易效果

### 第一次交易后

点击 Execute Cycle 后，大约 5-10 秒会看到：

1. **市场数据变化**：
   - 价格会有小幅波动（±2-5%）
   - RSI、MACD 等指标会更新

2. **AI 模型表现**：
   - 有些模型的账户价值会变化
   - Return % 会显示收益率（如 +2.5% 或 -1.2%）
   - Total Trades 可能增加（如果开仓或平仓）

3. **持仓信息**（如果有交易）：
   - 在排行榜下方会显示每个模型的持仓
   - 🟢 绿色框 = 做多（LONG）
   - 🔴 红色框 = 做空（SHORT）
   - 显示币种、杠杆、止损/止盈价格

### 多次交易后（点击 3-5 次）

1. **排行榜排序变化**：
   - 盈利高的模型会排在前面
   - 亏损的会排在后面

2. **权益曲线图出现**：
   - 滚动到下方
   - 会看到彩色的线条图
   - 不同颜色代表不同的 AI 模型

3. **Model Chat（模型对话）**：
   - 在权益图下方
   - 选择不同的模型
   - 查看它们的决策思路

---

## 🎬 实战演示流程

### 完整操作示例：

```
1️⃣ 打开浏览器 → http://localhost:3000
   ✅ 看到 6 个模型，都是 $10,000

2️⃣ 点击 "Execute Cycle"
   ⏳ 等待 5-10 秒...
   ✅ 排行榜数字变化，可能有持仓显示

3️⃣ 再次点击 "Execute Cycle"
   ⏳ 等待 5-10 秒...
   ✅ 更多变化，Return % 开始出现正负值

4️⃣ 再点击 2-3 次
   ✅ 权益曲线图出现
   ✅ 可以看到哪个 AI 表现最好

5️⃣ 滚动到 "Model Chat"
   ✅ 选择不同的模型
   ✅ 查看它们的思考过程

6️⃣ 点击 "Start Trading"
   ✅ 按钮变红色
   ⏰ 每 3 分钟自动更新一次
```

---

## 🚨 紧急排查清单

如果还是不行，请按顺序检查：

### ✅ 检查清单

- [ ] 命令行显示 "Ready in X.Xs"
- [ ] 浏览器访问 http://localhost:3000
- [ ] 页面显示 "ALPHA ARENA" 标题
- [ ] 右上角有绿点 "CONNECTED"
- [ ] 看到 6 个币的市场数据
- [ ] 看到 6 个 AI 模型排行榜
- [ ] 浏览器控制台（F12）没有红色错误
- [ ] Network 标签显示 trading 请求返回 200

### 📸 截图帮助

如果还是不行，请提供以下截图：

1. **命令行窗口**（显示 npm run dev 的输出）
2. **浏览器页面**（显示整个页面）
3. **浏览器控制台**（F12 → Console 标签，显示所有信息）
4. **Network 标签**（点击按钮后的请求列表）

把这些发给我，我可以精准定位问题！

---

## 💡 小技巧

### 加快测试速度

如果想更快看到效果，可以修改代码：

1. 打开 `lib/aiModels.ts`
2. 找到 `await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));`
3. 改为 `await new Promise(resolve => setTimeout(resolve, 100));`
4. 保存后，交易执行速度会快很多

### 观察详细日志

在命令行窗口（运行 npm run dev 的地方）可以看到：
- ✅ Trading cycle completed（交易完成）
- 📊 Data source: Real/Simulated（数据来源）
- 具体的交易信息

---

需要我帮你远程调试吗？提供上面的截图我可以帮你快速找到问题！
